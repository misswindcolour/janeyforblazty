<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>Stories For You </title>
  <link rel="icon" href="img/cat1.png" type="image/x-icon">
  <!-- Load Bootstrap first -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <!-- Then load Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Other links -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Poppins:wght@400;600&family=Roboto:wght@400;500&display=swap" rel="stylesheet"/>
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      background: linear-gradient(135deg, #98C4F2 0%, #ABD8E6 20%, #BEEBD9 40%, #D1FFCC 50%, #B5F5B3 100%);
      padding: 4rem 1rem 1rem 1rem;
      min-height: 100vh;
    }
    h1, h2 {
      font-family: 'Poppins', sans-serif;
    }
    .intro-text {
      max-width: 650px;
      margin: 0 auto 2rem;
      text-align: center;
    }
    /* Story content styling */
    .story-content {
      text-align: justify;
      line-height: 1.8;
      padding: 0 1rem;
    }
    .story-content p {
      margin-bottom: 1.2rem;
    }
    .story-content b {
      display: block;
      margin: 1.8rem 0 0.8rem;
      font-size: 1.1em;
      color: #2d3748;
      font-weight: 600;
    }
    .story-content h3 {
      margin: 1rem 0 1.5rem;
      color: #1a365d;
      font-size: 1.5em;
      text-align: center;
    }
    /* Movable button styles */
    .noselect {
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
    }
    #movableHomeBtn {
      cursor: grab;
      transition: all 0.3s ease;
    }
    #movableHomeBtn:active {
      cursor: grabbing;
    }
    /* Modal styling */
    #modal-content {
      max-height: 85vh;
    }
    /* Card hover effect */
    .story-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-start p-4">
  <!-- Movable Home Button -->
  <button
    id="movableHomeBtn"
    aria-label="Home page button"
    class="noselect fixed bottom-4 left-4 z-50 flex items-center justify-center w-14 h-14 rounded-full text-white shadow-lg hover:bg-blue-900 focus:outline-none focus:ring-4 focus:ring-blue-300 cursor-default"
    type="button"
    style="background-color: #101D42;"
  >
    <i class="fas fa-home fa-lg"></i>
  </button>

  <!-- Banner -->
  <div class="w-full max-w-7xl mx-auto mb-8 rounded-lg overflow-hidden shadow-lg relative">
    <img alt="banner" class="w-full h-48 sm:h-60 md:h-72 object-cover" height="300" src="img/banner4.jpg" width="1200"/>
    <div class="absolute inset-0 bg-gradient-to-r from-black/30 to-black/10 flex flex-col justify-center items-center text-white px-4">
      <h1 class="text-3xl sm:text-4xl md:text-5xl font-extrabold drop-shadow-lg">
        Silly Stories Written For You ♡
      </h1>
      <p class="mt-2 text-lg sm:text-xl md:text-2xl font-light drop-shadow-md max-w-3xl text-center">
        Fictional stories written just for you.
      </p>
    </div>
  </div>

  <!-- Main Content -->
  <div class="container max-w-7xl w-full">
    <!-- Header -->
    <div class="text-center mb-5">
      <p class="intro-text text-lg sm:text-xl text-gray-700 select-none">
        ♡ .˚⊹ Please click the titles to read the stories, thankchu! ⊹˚. ♡
      </p>
    </div>
    
    <!-- Stories Row -->
    <div class="flex flex-col md:flex-row md:space-x-6 space-y-6 md:space-y-0 justify-center">
      <!-- Story 1 -->
      <div class="story-card flex-1 max-w-md md:max-w-none bg-white rounded-lg shadow-lg p-5 cursor-pointer select-none transition-all duration-300" 
           tabindex="0" role="button" aria-controls="story1-details" id="story1-card">
        <h2 class="text-xl font-semibold mb-3 text-center">How to Raise a Heart</h2>
      </div>
      
      <!-- Story 2 -->
      <div class="story-card flex-1 max-w-md md:max-w-none bg-white rounded-lg shadow-lg p-5 cursor-pointer select-none transition-all duration-300" 
           tabindex="0" role="button" aria-controls="story2-details" id="story2-card">
        <h2 class="text-xl font-semibold mb-3 text-center">A Change of Heart</h2>
      </div>
      
      <!-- Story 3 -->
      <div class="story-card flex-1 max-w-md md:max-w-none bg-white rounded-lg shadow-lg p-5 cursor-pointer select-none transition-all duration-300" 
           tabindex="0" role="button" aria-controls="story3-details" id="story3-card">
        <h2 class="text-xl font-semibold mb-3 text-center">Bald Headed Baldo</h2>
      </div>
    </div>
  </div>

  <!-- Modal Overlay -->
  <div id="modal-overlay" class="fixed inset-0 bg-black bg-opacity-50 hidden z-40 flex items-center justify-center p-4">
    <!-- Modal Content -->
    <div id="modal-content" class="bg-white rounded-lg shadow-lg max-w-3xl w-full overflow-y-auto relative">
      <button id="modal-close" aria-label="Close modal" class="absolute top-4 right-4 text-gray-600 hover:text-gray-900 focus:outline-none z-50">
        <i class="fas fa-times fa-lg"></i>
      </button>
      <div class="p-6">
        <h2 id="modal-title" class="text-2xl font-bold mb-4 text-center"></h2>
        <div id="modal-body" class="story-content"></div>
      </div>
    </div>
  </div>

  <script>
    // Story data with improved formatting
    const stories = {
      story1: {
        title: "How to Raise a Heart",
        content: `<b>Plot</b>
          <p>This is a story of a boy who rescues a girl from her darkest moments, showing her what true love is and bringing light into her life. He raised her heart as if it were his child. Despite being a supervillain, she remains his only weakness. When he reaches his lowest point, she is the one who saves him, just as he did for her.</p>
          
          <p>He will raise her heart very carefully and when it's time, she has to choose what she will do with this heart. She will decide how this story goes. Can she transform his life? Will this be a happy ending or will she betray him?</p>
              
          <b>Chapter 1: How It Began</b>
          <p>Jordan Jones lived a detached life, indifferent to everyone except his family. He led a middle-class existence, avoiding asking his father for money and preferring to manage on his own.</p>
          
          <p>One evening, around 9 or 10 PM, Jordan noticed some shady individuals in town. Curious, he approached them, trusting his luck. "Yoo fellas, what y'all doing this late?" he asked, unaware of the danger. There were four of them: a leader and three subordinates. The subordinates attacked him immediately. At first, Jordan panicked and tried to retreat, but then he felt a rush of excitement. He fought back, knocking out two of them and narrowly avoiding getting knocked out himself. The leader was impressed and said, "Not bad, kid."</p>
          
          <p>Intrigued by the thrill, Jordan expressed his enjoyment. The leader, Cody Daniel, offered Jordan a job. Needing money, Jordan accepted and started following Cody's orders. He began killing people for Cody, motivated by the high pay. Eventually, he was tasked with killing a girl named Rebecca.</p>
          
          <p>Jordan planned meticulously and approached the store where Rebecca worked. However, his plan faltered when he saw her singing and dancing, her spirit unbroken despite her circumstances. For the first time, Jordan felt something stir within him. His heart raced as he watched her smile. Panicking when a customer walked in, he abandoned his plan.</p>
          
          <p>Unable to shake this feeling, Jordan researched Rebecca's past and discovered that Cody had destroyed her life. Cody, her ex-boyfriend, had taken everything from her, leaving her homeless and heartbroken. She now lived with her grandmother.</p>
          
          <p>Determined to end Cody's reign of terror, Jordan devised a new plan. He poisoned Cody's drink during a meeting, making it appear as a heart attack.</p>

          <b>Chapter 2: New Beginnings</b>
          <p>Years passed, and Jordan lived honestly, though his cold-hearted nature persisted. He worked as a full-stack developer, maintaining a facade of normalcy.</p>
          
          <p>One rainy day, on his way home, Jordan accidentally bumped into a girl with wavy black hair and brown eyes. Their eyes met, and he felt a familiar, confusing sensation. The girl, equally bewildered, hurried off to catch her bus, leaving Jordan standing in the rain, his heart once again stirred by an inexplicable feeling.</p>
          
          <p>After all these years of determination and hard work, Rebecca finally managed to save enough money for her and her grandma to live without worries.</p>

          <p style="text-align: center; margin-top: 2rem; font-style: italic;">To be continued.. :3</p>`
      },
      story2: {
        title: "A Change of Heart",
        content: `<b>Plot</b>
          <p>There's a girl named Eve. She's just a normal girl with ADHD and going through a hard time, living in Califonia. She's a university student. One day, when the class ended, while she was waiting for her bus, it rained heavily and she was alone. She acts normal when she's with everyone, but deep down. She's hurting.</p>
          
          <p>The rain wouldn't stop and she didn't bring an umbrella. She waited for another 30 minutes but the bus didn't arrive. She knew she had to walk home, alone in the rain. She hated rain because it made her feel more alone. That's when a boy showed up. He stood beside her at the bus station. Their eyes met as they turned to each other. She never felt anything like that before.</p>
          
          <p>He gave her his umbrella and he went away. Her heart was beating so fast and not even a thank you wouldn't come out of her mouth. She was really confused. She went back home to walk in the rain.</p>
          
          <p>Days passed by, and then met again. This time, the boy asked if she loved the rain. She said no, of course it's only made her more moody. The boy just smiled. She asked, "Why are you smiling?". He replied, "Nothing, I never met anyone who dislikes rain.</p>
          
          <p>They introduced themselves, with Eve sharing she was a Liberal Arts major and a writer, and Ethan mentioning he was studying Law. The girl gave him her number and they started texting every day. Unlike before, she didn't feel lonely anymore and started to feel some sense of joy. It's only been a few weeks but they became best friends.</p>
          
          <p>One day, they decided to meet up in a restaurant beside the beach which was very beautiful. They talked for hours and they watched the sunset by the beach. They had a great time and for the first time in a long time, she felt happy. They were comfortable with each other and their eyes locked for a moment. She didn't know what it was but the boy did.</p>
          
          <p>The boy saw something in her eyes, something special he had never seen before. The boy knew exactly what it was. This weird feeling grew day by day and the girl realized something had changed in her life. The girl turned into a different person. She turned into a person who she thought she would never be. A happier and a better person. She knew the reason why and it was all because of that one boy. He changed her heart and her perspective of the world.</p>
          
          <p>Later on that day, she asked herself "Oh man, I need help. I don't know what's wrong with me. I've been listening to romantic songs, waking up with a big smile every morning, going to bed with happy thoughts, always smiling to the point where my teeth might catch a cold, and dancing randomly. Am I in love or am I insane? I don't know, man. I am afraid to fall in love and tell myself this isn't right, but I want to hang out with you and crack jokes all day. I want to be with you all the time. Last month, you were just a stranger to me. But within weeks, you became the best friend I ever had. Now, you're someone I miss when you're not around."</p>
          
          <p>She will hide her feelings like she always does but one thing for sure is that she is falling in love with that boy slowly and day by day. She hopes for the day when she can finally admit her feelings.</p>
          
          <p>Day by day, she got suspicious about her own feelings and she couldn't admit it. A simple word with many meanings behind it.</p>

          <p style="text-align: center; margin-top: 2rem; font-style: italic;">To be continued... :D</p>`
      },
      story3: {
        title: "Bald Headed Baldo",
        content: `<b>Plot</b>
          <p>Once upon a time, there was a bald headed bastard named "James". They was bald and born transgender. People call they "Baldo Weirdo". One day, when they passed by a hair salon, they met an amazing guy named "Ben". Ben was paralyzed and in wheelchair but Ben gives the best haircut in town.</p>
          
          <p>Baldo fell in love with him at first sight and Baldo decided to grew their hair. Three months passed by, Baldo's hair also grew as well. Baldo went to the hair salon and they met Ben again. Ben met Baldo and gave a nice haircut.</p>
          
          <p>Since then, Baldo always come to get haircut every months with Ben. They became friends and closer and closer every single day. 7 months went by, Baldo decided to confess to Ben and turns out, Ben also had feelings for Baldo the whole time.</p>
          
          <p>They became lovers and got married at 28.</p>`
      }
    };

    // Modal functionality
    const modalOverlay = document.getElementById('modal-overlay');
    const modalTitle = document.getElementById('modal-title');
    const modalBody = document.getElementById('modal-body');
    const modalClose = document.getElementById('modal-close');

    function openModal(storyKey) {
      const story = stories[storyKey];
      modalTitle.textContent = story.title;
      modalBody.innerHTML = story.content;
      modalOverlay.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
      modalClose.focus();
    }

    function closeModal() {
      modalOverlay.classList.add('hidden');
      document.body.style.overflow = '';
    }

    // Story card event listeners
    ['story1', 'story2', 'story3'].forEach(storyKey => {
      const card = document.getElementById(storyKey + '-card');
      card.addEventListener('click', () => openModal(storyKey));
      card.addEventListener('keydown', (e) => {
        if (e.key === "Enter" || e.key === " ") {
          e.preventDefault();
          openModal(storyKey);
        }
      });
    });

    // Modal close handlers
    modalClose.addEventListener('click', closeModal);
    modalOverlay.addEventListener('click', (e) => {
      if (e.target === modalOverlay) closeModal();
    });
    window.addEventListener('keydown', (e) => {
      if (e.key === "Escape" && !modalOverlay.classList.contains('hidden')) {
        closeModal();
      }
    });

    // Movable home button functionality
    const homeBtn = document.getElementById('movableHomeBtn');
    let isDragging = false;
    let offsetX, offsetY;

    // Set initial position
    homeBtn.style.left = '16px';
    homeBtn.style.bottom = '16px';

    // Mouse events
    homeBtn.addEventListener('mousedown', (e) => {
      isDragging = true;
      const rect = homeBtn.getBoundingClientRect();
      offsetX = e.clientX - rect.left;
      offsetY = e.clientY - rect.top;
      homeBtn.style.transition = 'none';
      homeBtn.style.cursor = 'grabbing';
      e.preventDefault();
    });

    window.addEventListener('mousemove', (e) => {
      if (!isDragging) return;
      
      let x = e.clientX - offsetX;
      let y = e.clientY - offsetY;

      // Constrain to viewport
      const btnRect = homeBtn.getBoundingClientRect();
      const maxX = window.innerWidth - btnRect.width;
      const maxY = window.innerHeight - btnRect.height;

      x = Math.max(0, Math.min(x, maxX));
      y = Math.max(0, Math.min(y, maxY));

      homeBtn.style.left = x + 'px';
      homeBtn.style.top = y + 'px';
      homeBtn.style.bottom = 'auto';
    });

    window.addEventListener('mouseup', () => {
      if (isDragging) {
        isDragging = false;
        homeBtn.style.transition = 'all 0.3s ease';
        homeBtn.style.cursor = 'grab';
      }
    });

    // Touch events for mobile
    homeBtn.addEventListener('touchstart', (e) => {
      isDragging = true;
      const touch = e.touches[0];
      const rect = homeBtn.getBoundingClientRect();
      offsetX = touch.clientX - rect.left;
      offsetY = touch.clientY - rect.top;
      homeBtn.style.transition = 'none';
      homeBtn.style.cursor = 'grabbing';
      e.preventDefault();
    }, { passive: false });

    window.addEventListener('touchmove', (e) => {
      if (!isDragging) return;
      const touch = e.touches[0];
      
      let x = touch.clientX - offsetX;
      let y = touch.clientY - offsetY;

      // Constrain to viewport
      const btnRect = homeBtn.getBoundingClientRect();
      const maxX = window.innerWidth - btnRect.width;
      const maxY = window.innerHeight - btnRect.height;

      x = Math.max(0, Math.min(x, maxX));
      y = Math.max(0, Math.min(y, maxY));

      homeBtn.style.left = x + 'px';
      homeBtn.style.top = y + 'px';
      homeBtn.style.bottom = 'auto';

      e.preventDefault();
    }, { passive: false });

    window.addEventListener('touchend', () => {
      if (isDragging) {
        isDragging = false;
        homeBtn.style.transition = 'all 0.3s ease';
        homeBtn.style.cursor = 'grab';
      }
    });

    // Click handler - only navigate if not dragging
    homeBtn.addEventListener('click', (e) => {
      if (!isDragging) {
        window.location.href = 'index.html';
      }
    });

    // Reset position on window resize
    window.addEventListener('resize', () => {
      if (!isDragging) {
        const btnRect = homeBtn.getBoundingClientRect();
        const maxX = window.innerWidth - btnRect.width;
        const currentX = parseInt(homeBtn.style.left) || 16;
        
        homeBtn.style.left = Math.min(currentX, maxX) + 'px';
        homeBtn.style.bottom = '16px';
        homeBtn.style.top = 'auto';
      }
    });
  </script>
</body>
</html>